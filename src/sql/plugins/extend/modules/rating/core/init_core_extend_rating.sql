--
-- Init  table core_admin_right
--
INSERT INTO core_admin_right (id_right,name,level_right,admin_url,description,is_updatable,plugin_name,id_feature_group,icon_url, documentation_url) 
VALUES ('EXTEND_VOTE_TYPES_MANAGEMENT','module.extend.rating.adminFeature.vote_types_management.name',2,'jsp/admin/plugins/extend/modules/rating/ManageVoteTypes.jsp','module.extend.rating.adminFeature.vote_types_management.description',0,'extend-rating','CONTENT','images/admin/skin/plugins/extend/modules/rating/extend-rating.png', 'jsp/admin/documentation/AdminDocumentation.jsp?doc=admin-extend-rating');

--
-- Init  table core_user_right
--
INSERT INTO core_user_right (id_right,id_user) VALUES ('EXTEND_VOTE_TYPES_MANAGEMENT',1);
INSERT INTO core_user_right (id_right,id_user) VALUES ('EXTEND_VOTE_TYPES_MANAGEMENT',2);

--
-- Init core_template
--

INSERT INTO core_template VALUES ('extend_rating_vote_type_star','<#assign averageScore = 0 />\r\n<#assign averageScoreRoundToHalf = 0 />\r\n<#assign voteCount = 0 />\r\n<#if rating??>\r\n	<#assign averageScore = rating.averageScore />\r\n	<#assign averageScoreRoundToHalf = rating.averageScoreRoundToHalf />\r\n	<#assign voteCount = rating.voteCount />\r\n</#if>\r\n<#if show == \"all\" || show == \"vote\">\r\n	<p>\r\n		<img src=\"images/local/skin/plugins/extend/modules/rating/stars_${averageScoreRoundToHalf!}.png\" alt=\"Note : ${averageScore!}\" title=\"Note : ${averageScore!}\" />\r\n		(${voteCount!})&nbsp;\r\n	</p>\r\n</#if>\r\n<#if canDeleteVote><div class=\"cancel\"><a href=\"jsp/site/plugins/extend/modules/rating/DoCancelVote.jsp?idExtendableResource=${idExtendableResource!}&extendableResourceType=${extendableResourceType!}" > </a></div></#if>\r\n<#if show == \"all\" || show == \"actionVote\">\r\n	<#if canVote>\r\n		<div> Votez : </div>\r\n		<div class=\"resource-vote-star-rating\" style=\"display:none;\">\r\n			<form name=\"resource_vote_form\" action=\"jsp/site/plugins/extend/modules/rating/DoVote.jsp?idExtendableResource=${idExtendableResource!}&extendableResourceType=${extendableResourceType}\" method=\"post\" >\r\n				<input type=\"hidden\" name=\"voteValue\" value=\"1\" />\r\n				<input class=\"star-rating {split:2}\" type=\"radio\" name=\"voteValue_${extendableResourceType}_${idExtendableResource!}\" value=\"0.5\" />\r\n				<input class=\"star-rating {split:2}\" type=\"radio\" name=\"voteValue_${extendableResourceType}_${idExtendableResource!}\" value=\"1\" />\r\n				<input class=\"star-rating {split:2}\" type=\"radio\" name=\"voteValue_${extendableResourceType}_${idExtendableResource!}\" value=\"1.5\" />\r\n				<input class=\"star-rating {split:2}\" type=\"radio\" name=\"voteValue_${extendableResourceType}_${idExtendableResource!}\" value=\"2\" />\r\n			<input class=\"star-rating {split:2}\" type=\"radio\" name=\"voteValue_${extendableResourceType}_${idExtendableResource!}\" value=\"2.5\" />\r\n				<input class=\"star-rating {split:2}\" type=\"radio\" name=\"voteValue_${extendableResourceType}_${idExtendableResource!}\" value=\"3\" />\r\n				<input class=\"star-rating {split:2}\" type=\"radio\" name=\"voteValue_${extendableResourceType}_${idExtendableResource!}\" value=\"3.5\" />\r\n				<input class=\"star-rating {split:2}\" type=\"radio\" name=\"voteValue_${extendableResourceType}_${idExtendableResource!}\" value=\"4\" />\r\n			</form>\r\n		</div>\r\n		<div class=\"resource-vote-star-rating-javascript-disable\" >\r\n			<div class=\"star {split:2}\">\r\n				<a href=\"jsp/site/plugins/extend/modules/rating/DoVote.jsp?idExtendableResource=${idExtendableResource!}&extendableResourceType=${extendableResourceType!}&voteValue=0.5\" ></a>\r\n			</div >\r\n			<div class=\"star {split:2}\">\r\n				<a href=\"jsp/site/plugins/extend/modules/rating/DoVote.jsp?idExtendableResource=${idExtendableResource!}&extendableResourceType=${extendableResourceType!}&voteValue=1\" > </a>\r\n			</div>\r\n			<div class=\"star {split:2}\">\r\n				<a href=\"jsp/site/plugins/extend/modules/rating/DoVote.jsp?idExtendableResource=${idExtendableResource!}&extendableResourceType=${extendableResourceType!}&voteValue=1.5\" > </a>\r\n			</div>\r\n			<div class=\"star {split:2}\">\r\n				<a href=\"jsp/site/plugins/extend/modules/rating/DoVote.jsp?idExtendableResource=${idExtendableResource!}&extendableResourceType=${extendableResourceType!}&voteValue=2\" > </a>\r\n			</div>\r\n			<div class=\"star {split:2}\">\r\n				<a href=\"jsp/site/plugins/extend/modules/rating/DoVote.jsp?idExtendableResource=${idExtendableResource!}&extendableResourceType=${extendableResourceType!}&voteValue=2.5\" ></a>\r\n			</div >\r\n			<div class=\"star {split:2}\">\r\n				<a href=\"jsp/site/plugins/extend/modules/rating/DoVote.jsp?idExtendableResource=${idExtendableResource!}&extendableResourceType=${extendableResourceType!}&voteValue=3\" > </a>\r\n			</div>\r\n			<div class=\"star {split:2}\">\r\n				<a href=\"jsp/site/plugins/extend/modules/rating/DoVote.jsp?idExtendableResource=${idExtendableResource!}&extendableResourceType=${extendableResourceType!}&voteValue=3.5\" > </a>\r\n			</div>\r\n			<div class=\"star {split:2}\">\r\n				<a href=\"jsp/site/plugins/extend/modules/rating/DoVote.jsp?idExtendableResource=${idExtendableResource!}&extendableResourceType=${extendableResourceType!}&voteValue=4\" > </a>\r\n			</div>\r\n		</div>\r\n		<br/>\r\n	</#if>\r\n</#if>');
INSERT INTO core_template VALUES ('extend_rating_vote_type_thumb','\r\n<#assign scoreValue = 0 />\r\n<#assign voteCount = 0 />\r\n<#if rating??>\r\n	<#assign scoreValue = rating.scoreValue />\r\n	<#assign voteCount = rating.voteCount />\r\n	<#assign scoreVotesPositifs = rating.scorePositifsVotes > \r\n	<#assign scoreVotesNegatives = rating.scoreNegativesVotes >\r\n</#if>\r\n<#if show == \"all\" || show == \"vote\">\r\n	<p>\r\n		<#if ( scoreValue < 0 )>\r\n			<img src=\"images/local/skin/plugins/extend/modules/rating/vote_against.png\" title=\"#i18n{module.extend.rating.rating.labelVoteAgainst}\" alt=\"#i18n{module.extend.rating.rating.labelVoteAgainst}\"/>\r\n		${scoreValue!}\r\n		<#else>\r\n			<img src=\"images/local/skin/plugins/extend/modules/rating/vote_for.png\" title=\"#i18n{module.extend.rating.rating.labelScore}\" alt=\"#i18n{module.extend.rating.rating.labelScore}\"/>\r\n			${scoreValue!}\r\n		</#if>\r\n(${voteCount!})&nbsp;\r\n	</p>\r\n	<p> #i18n{module.extend.rating.rating.labelLike} : ${scoreVotesPositifs!}</p> \r\n	<p> #i18n{module.extend.rating.rating.labelDislike} : ${scoreVotesNegatives!}</p> \r\n	<#if voteValue?? && voteValue != 0>		<p> #i18n{module.extend.rating.rating.labelLastVote} : 		<#if voteValue == 1>\r\n			<img src=\"images/local/skin/plugins/extend/modules/rating/vote_for.png\" title=\"#i18n{module.extend.rating.rating.labelScore}\" alt=\"#i18n{module.extend.rating.rating.labelScore}\"/>		</#if>		<#if voteValue ==-1> \r\n			<img src=\"images/local/skin/plugins/extend/modules/rating/vote_against.png\" title=\"#i18n{module.extend.rating.rating.labelVoteAgainst}\" alt=\"#i18n{module.extend.rating.rating.labelVoteAgainst}\"/>		</#if>		</p>\r\n	</#if></#if>\r\n<#if canDeleteVote><div class=\"cancel\"><a href=\"jsp/site/plugins/extend/modules/rating/DoCancelVote.jsp?idExtendableResource=${idExtendableResource!}&extendableResourceType=${extendableResourceType!}" > </a></div></#if>\r\n<#if show == \"all\" || show == \"actionVote\">\r\n<#if canVote>\r\n		<div>\r\n			<div class=\"extend-rating-vote-title\">\r\n				<label for=\"\">#i18n{module.extend.rating.rating.labelVote} :</label></div>\r\n				<span class=\"extend-rating-vote-span\">\r\n		<#if (voteValue?? && voteValue=1) || voteValue=0 ><a href=\"jsp/site/plugins/extend/modules/rating/DoVote.jsp?idExtendableResource=${idExtendableResource!}&amp;extendableResourceType=${extendableResourceType!}&amp;voteValue=-1\">\r\n				<img src=\"images/local/skin/plugins/extend/modules/rating/vote_against.png\" title=\"#i18n{module.extend.rating.rating.labelVoteAgainst}\" alt=\"#i18n{module.extend.rating.rating.labelVoteAgainst}\"/> \r\n				</a>\r\n				</#if><#if (voteValue?? && voteValue=-1) || voteValue=0 ><a href=\"jsp/site/plugins/extend/modules/rating/DoVote.jsp?idExtendableResource=${idExtendableResource!}&amp;extendableResourceType=${extendableResourceType!}&amp;voteValue=1\">\r\n				<img src=\"images/local/skin/plugins/extend/modules/rating/vote_for.png\" title=\"#i18n{module.extend.rating.rating.labelVoteFor}\" alt=\"#i18n{module.extend.rating.rating.labelVoteFor}\"/>\r\n				</a>\r\n</#if></span>\r\n		</div>\r\n</#if>\r\n</#if>\r\n');
INSERT INTO core_template VALUES ('extend_rating_vote_type_simple','<#if !voteClosed><#if canDeleteVote><div><a href=\"jsp/site/plugins/extend/modules/rating/DoCancelVote.jsp?idExtendableResource=${idExtendableResource!}&extendableResourceType=${extendableResourceType!}\" >J''annule mon vote</a></div></#if><#if show == \"all\" || show == \"actionVote\"><#if canVote><div><div class=\"extend-rating-vote-title\"><label for=\"\">Votez :</label></div><span>					<a href=\"jsp/site/plugins/extend/modules/rating/DoVote.jsp?idExtendableResource=${idExtendableResource!}&extendableResourceType=${extendableResourceType!}&voteValue=1\">Je vote pour</a></span></div></#if></#if></#if>');
INSERT INTO core_template VALUES ('extend_rating_vote_type_majority','<#assign averageScore = 0 />
<#assign averageScoreRoundToHalf = 0 />
<#assign voteCount = 0 />
<#if rating??>
    <#assign averageScore = rating.averageScore />
    <#assign averageScoreRoundToHalf = rating.averageScoreRoundToHalf />
    <#assign voteCount = rating.voteCount />
</#if>
<#if canDeleteVote><div class=\"cancel\"><a href=\"jsp/site/plugins/extend/modules/rating/DoCancelVote.jsp?idExtendableResource=${idExtendableResource!}&extendableResourceType=${extendableResourceType!}\" > </a></div></#if>
<#if show == \"all\" || show == \"actionVote\">
    <#if canVote>
        <div> Votez : </div>
        <div>
            <form name=\"resource_vote_form\" action=\"jsp/site/plugins/extend/modules/rating/DoVote.jsp\" method=\"get\" >
                <input type=\"hidden\" id=\"idExtendableResource\" name=\"idExtendableResource\" value=\"${idExtendableResource!}\"/>
                <input type=\"hidden\" id=\"extendableResourceType\" name=\"extendableResourceType\" value=\"${extendableResourceType!}\"/>
                <input type=\"hidden\" id=\"ratingType\" name=\"ratingType\" value=\"majority\"/>
                <input type=\"radio\" id=\"voteValue_${extendableResourceType}_${idExtendableResource!}\" name=\"voteValue\" value=\"0\" onchange=\"this.form.submit()\" />
                <label>Male1</label><br>
                <input type=\"radio\" id=\"voteValue_${extendableResourceType}_${idExtendableResource!}\" name=\"voteValue\" value=\"1\" onchange=\"this.form.submit()\" />
                <label>Male2</label><br>
                <input type=\"radio\" id=\"voteValue_${extendableResourceType}_${idExtendableResource!}\" name=\"voteValue\" value=\"2\" onchange=\"this.form.submit()\" />
                <label>Male3</label><br>
                <input type=\"radio\" id=\"voteValue_${extendableResourceType}_${idExtendableResource!}\" name=\"voteValue\" value=\"3\" onchange=\"this.form.submit()\" />
                <label>Male4</label><br>
                <input type=\"radio\" id=\"voteValue_${extendableResourceType}_${idExtendableResource!}\" name=\"voteValue\" value=\"4\" onchange=\"this.form.submit()\" />
                <label>Male5</label><br>
                <input type=\"radio\" id=\"voteValue_${extendableResourceType}_${idExtendableResource!}\" name=\"voteValue\" value=\"5\" onchange=\"this.form.submit()\" />
                <label>Male6</label><br>
                <input type=\"radio\" id=\"voteValue_${extendableResourceType}_${idExtendableResource!}\" name=\"voteValue\" value=\"6\" onchange=\"this.form.submit()\" />
                <label>Male</label><br>
            </form>
        </div>
        <br/>
    </#if>
</#if>');
